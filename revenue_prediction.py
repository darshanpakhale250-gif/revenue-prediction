# -*- coding: utf-8 -*-
"""Revenue Prediction.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1brPIOqslTTtEam2OZCIPO2E52zIKWgmX
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

df = pd.read_csv('/content/drive/MyDrive/revenue_prediction.csv')
df

df.shape

df.info()

df.isnull().sum()

df.duplicated().sum()

df = df.drop(columns=['Id' , 'Name' , 'Franchise' , 'Category' , 'City' ,'No_Of_Item'])

df.shape

X = df.drop(columns=['Revenue'])
y = df['Revenue']

from sklearn.model_selection import train_test_split
X_train , X_test , y_train , y_test = train_test_split(X , y , test_size=0.2 , random_state=42)

from sklearn.model_selection import GridSearchCV
from sklearn.linear_model import LinearRegression
from sklearn.tree import DecisionTreeRegressor
from sklearn.ensemble import RandomForestRegressor
from sklearn.svm import SVR
from sklearn.neighbors import KNeighborsRegressor

lr = LinearRegression()
lr.fit(X_train , y_train)

y_pred = lr.predict(X_test)

plt.scatter(X_train,y_train,color="blue")
plt.plot(X_train, lr.predict(X_train),color="green")
plt.title("Revenue vs orders")
plt.xlabel("orders")
plt.ylabel("Revenue")

plt.scatter(X_test,y_test,color="blue")
plt.plot(X_train, lr.predict(X_train),color="green")
plt.title("Revenue vs orders")
plt.xlabel("orders")

from sklearn.metrics import r2_score

score = r2_score(y_test , y_pred)
score

